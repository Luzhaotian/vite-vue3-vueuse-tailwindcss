import{d as e,f as s,g as a}from"./lzt-Jyq-MIJI.js";import{_ as o,r as l,g as t,w as r,e as n,o as i,c as d,a as u,V as m,W as c,Q as p,a3 as g,R as f,al as b,ag as h,X as w,u as x,n as y,az as v,aA as z}from"./lzt-BNdyPEiD.js";import{g as j}from"./lzt-CwzTw2Fl.js";import{a as k}from"./lzt-BaF3Xh-s.js";import{u as _}from"./lzt-DesDHJ0X.js";import{_ as U,l as C,a as E,i as L,b as $}from"./lzt-T2rJrzHa.js";import"./lzt-Bg5u8xPa.js";import"./lzt-DuT-0hEZ.js";import"./lzt-D3lHDW-0.js";import"./lzt-D2GJhe6y.js";import"./lzt-BfbrdkjQ.js";import"./lzt-DKzlLy4L.js";import"./lzt-DvK128iR.js";const V=e=>(v("data-v-880e202f"),e=e(),z(),e),N={class:"login-form min-h-screen flex items-center justify-center bg-gray-50"},R={class:"max-w-md w-full space-y-8 p-8 bg-white rounded-lg shadow-lg"},S={class:"text-center text-3xl font-extrabold text-gray-900"},A={for:"username",class:"block text-sm font-medium text-gray-700"},O=["placeholder"],T={for:"password",class:"block text-sm font-medium text-gray-700"},q=["placeholder"],I={class:"block text-sm font-medium text-gray-700 mb-2"},B={class:"flex justify-between rounded-md border-solid border border-indigo-600 h-9 my-2"},D={for:"zh",class:"text-indigo-600 flex-cc w-1/2 has-[:checked]:bg-indigo-600 has-[:checked]:text-white cursor-pointer"},F=V((()=>u("span",null,"中文",-1))),H={for:"en",class:"text-indigo-600 flex-cc w-1/2 has-[:checked]:bg-indigo-600 has-[:checked]:text-white cursor-pointer"},M=V((()=>u("span",null,"English",-1))),P={type:"submit",class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},Q={class:"spinner"},W=[V((()=>u("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[u("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),u("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)))],X=U(Object.assign({name:"Login"},{__name:"index",setup(v){const z=o({username:"",password:""}),U=l(null),V=o({username:[{required:!0,message:()=>L.global.t("login.usernameErrorTip"),trigger:"blur"}],password:[{required:!0,message:()=>L.global.t("login.passwordErrorTip"),trigger:"blur"}]}),X=l(C(E.USER_LOCALE)??"zh-CN"),G=_(),{proxy:J}=t();r(X,(e=>{var s;$(E.USER_LOCALE,e),s=e,L.global.locale=s}));const K=()=>{U.value.validate((e=>{e&&(G.openLoading(),y((async()=>{try{await new Promise((e=>setTimeout(e,2e3))),G.closeLoading(),s({message:"登陆成功",type:"success",duration:5e3,showClose:!0}),k("USER_INFO",{username:z.username,password:z.password,language:X.value}),J.$router.push({name:"home",query:{lang:X.value??j(),t:(new Date).getTime()}})}catch(e){G.closeLoading()}})))}))};return n((()=>{})),(s,o)=>{const l=a,t=e;return i(),d("div",N,[u("div",R,[u("div",null,[u("h2",S,m(s.$t("login.login")),1)]),c(t,{ref_key:"formRef",ref:U,model:z,rules:V,class:"mt-8 space-y-6",onSubmit:g(K,["prevent"]),"label-position":"top"},{default:p((()=>[c(l,{label:"Username",prop:"username"},{label:p((()=>[u("label",A,m(s.$t("login.userName")),1)])),default:p((()=>[f(u("input",{id:"username","onUpdate:modelValue":o[0]||(o[0]=e=>z.username=e),type:"text",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:text-white placeholder:dark:text-gray-600",placeholder:s.$t("login.userName")},null,8,O),[[b,z.username]])])),_:1}),c(l,{prop:"password"},{label:p((()=>[u("label",T,m(s.$t("login.password")),1)])),default:p((()=>[f(u("input",{id:"password","onUpdate:modelValue":o[1]||(o[1]=e=>z.password=e),type:"password",autocomplete:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:text-white placeholder:dark:text-gray-600",placeholder:s.$t("login.password")},null,8,q),[[b,z.password]])])),_:1}),u("div",null,[u("label",I,m(s.$t("login.language")),1),u("div",B,[u("label",D,[F,f(u("input",{type:"radio",name:"lang",value:"zh-CN",id:"zh",class:"mr-2","onUpdate:modelValue":o[2]||(o[2]=e=>X.value=e),hidden:""},null,512),[[h,X.value]])]),u("label",H,[M,f(u("input",{type:"radio",name:"lang",value:"en-US",id:"en",class:"mr-2","onUpdate:modelValue":o[3]||(o[3]=e=>X.value=e),hidden:""},null,512),[[h,X.value]])])])]),u("div",null,[u("button",P,[f(u("span",null,m(s.$t("login.login")),513),[[w,!x(G).loading]]),f(u("div",Q,W,512),[[w,x(G).loading]])])])])),_:1},8,["model","rules"])])])}}}),[["__scopeId","data-v-880e202f"]]);export{X as default};
